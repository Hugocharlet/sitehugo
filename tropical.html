<!DOCTYPE html>
<html lang="fr">
<head>
    <link rel="icon" type="image/png" href="favicon.png" />
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TROPICAL</title>
    <link rel="stylesheet" href="csspages.css">
    <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
</head>
<body>
    
	<!-- impoter Menu générale -->
	<div id="menu-placeholder"></div>
	<div id="svgmenupages-placeholder"></div>
	
   

    <!-- deux colonnes -->        
   <img class="imagemain" src="pages/tropical/main.jpg" alt="main">
	<div class="colonne-fixed">
            <div class="Title">TROPICAL</div>
            <div class="Subtitle">Upholstered chairs 2022</div>
            <div class="textebox-container">
                <div class="texte">Dimension: 760 x 640 x 850 mm</div>
                <div class="texte">The TROPICAL chair is an original and fun creation inspired by furniture from the 60s/70s. With its somewhat "pop" and "young" look, this armchair can be a success with a young public as well as with a public more aware of the code of decorative furniture. Indeed, I spent considerable attention on the lines and proportions to achieve an honest design, right and that does not become ugly with time. Moreover, the tubular foam which wraps the whole chair ensures an unrivaled comfort and warmness. Finally, thanks to its very strong identity, this armchair is recognizable at first glance and could become the company's new mascot in the eyes of the general public, and especially with design lovers</div>
            </div>
            
           <!-- <div class="icon-container">
                <a href="#" data-model-src="glb/tropicalchair.glb" class="icon-link" id="ouvrir-model-viewer">
                    <img src="3DICON.svg" alt="Open Model Viewer" class="icon-item">
                </a>
                <div class="texte"> 3D Model chair</div>
            </div>
            <div class="icon-container">
                <a href="#" data-model-src="glb/tropicallounge.glb" class="icon-link" id="ouvrir-model-viewer">
                    <img src="3DICON.svg" alt="Open Model Viewer" class="icon-item">
                </a>
                <div class="texte">3D Model armchair</div>
            </div> -->
      
            </div>  
			
			<!-- colonne 2 -->   
		
			<div id="modelContainer">
				<button class="close-button" id="closeModelViewer">
					<img src="crosss.svg" alt="Close">
				</button>
				<model-viewer id="modelViewer" src='glb/tropical.glb' autoplay loading="eager" ar ar-modes="webxr scene-viewer quick-look" ar-status="not-presenting" auto-rotate bounds="tight" rotation-per-second="1deg" environment-image="glb/studio.hdr" exposure="0.7" camera-controls interpolation-decay="200" shadow-intensity="1" interaction-prompt="none" camera-orbit="-40deg 82deg 12m" min-camera-orbit="auto 40deg a">
				</model-viewer>
			</div>
			
			
			<div id="image-container"></div>
			<div id="loader">
   				 <div class="spinner"></div>
			</div>
			

<script>



// Importer les images en lignes
function preloadImages(imageUrls) {
    return Promise.all(imageUrls.map(url => {
        return new Promise((resolve, reject) => {
            const img = new Image();
            img.src = url;
            img.onload = () => resolve(img); // Résoudre avec l'image chargée
            img.onerror = () => resolve(null); // Ignorer les erreurs et résoudre avec null
        });
    }));
}

document.addEventListener('DOMContentLoaded', () => {
    let mediaFiles = [
        "pages/tropical/1.jpg",
        "pages/tropical/2.jpg",
        "pages/tropical/3.jpg",
        "pages/tropical/4.jpg",
        "pages/tropical/5.jpg",
        "pages/tropical/6.jpg",
        "pages/tropical/7.jpg",
		 "pages/tropical/8.jpg",
        "pages/tropical/9.jpg",
        "pages/tropical/10.jpg",
        "pages/tropical/11.jpg",
        "pages/tropical/12.jpg",
        "pages/tropical/13.jpg",
        "pages/tropical/14.jpg",
        "pages/tropical/15.jpg",
        "pages/tropical/16.jpg",
        "pages/tropical/17.jpg"
    ];

    const loader = document.getElementById('loader');

    preloadImages(mediaFiles).then(images => {
        let imageContainer = document.getElementById('image-container');
        images.forEach(img => {
            if (img) {
                img.classList.add('imagelarge');
                imageContainer.appendChild(img);
            } else {
                console.warn('Une image est manquante ou a échoué à se charger.');
            }
        });

        // Cacher le loader après le chargement des images
        loader.style.display = 'none';
    }).catch(error => {
        console.error('Erreur lors du préchargement des images :', error);
	    loader.style.display = 'none';
    });
});

		
		
	</script>
	<script src="pages-script.js"></script>
</body>
</html>