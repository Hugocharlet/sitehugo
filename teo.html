<!DOCTYPE html>
<html lang="fr">
<head>
    <link rel="icon" type="image/png" href="favicon.png" />
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TEO</title>
    <link rel="stylesheet" href="csspages.css">
    <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
</head>
<body>
    
	<!-- impoter Menu générale -->
	<div id="menu-placeholder"></div>
	<div id="svgmenupages-placeholder"></div>
	
  
    <!-- deux colonnes -->        
   <img class="imagemain" src="pages/teo/main.jpg" alt="main">
	<div class="colonne-fixed">
            <div class="Title">TEO</div>
            <div class="Subtitle">Outdoor wooden armchair 2016</div>
            <div class="textebox-container">
                <div class="texte">Dimensions: 620 x 693 x 823 cm</div>
                <div class="texte">Teo is an outdoor wooden armchair with an simple and sophisticated look. This armchair was designed in collaboration with the skilled cabinet maker, Mr. Delavelle, for technical support. In fact, designing an outdoor furniture in solid wood is a challenge. the dimension are changing according to the variations of humidity with different ratios depending on the directions. The geometry must be thought so the joins don’t open when the wood tights or extends. Considerable efforts were made to achieve an original and contemporary furniture that also meet criteria of production’s cost and robustness.</div>
            </div>
            <div class="sousmenu-wrapper">
			 <div class="icon-container">
					<a href="#" data-model-src="glb/teo.glb" class="icon-link" id="ouvrir-model-viewer">
						<img src="3DICON.svg" alt="Open Model Viewer" class="icon-item">
					</a>
					<div class="texte texte-icon"> 3D Model chair</div>
				</div>
               <!--<div class="icon-container">
                <a href="#" data-model-src="glb/teolounge.glb" class="icon-link" id="ouvrir-model-viewer">
                    <img src="3DICON.svg" alt="Open Model Viewer" class="icon-item">
                </a>
                <div class="texte">3D Model armchair</div>
            </div> -->
      </div>
            </div>  
			
			<!-- colonne 2 -->   
		
			<div id="modelContainer">
				<button class="close-button" id="closeModelViewer">
					<img src="crosss.svg" alt="Close">
				</button>
				<model-viewer id="modelViewer" src='glb/teo.glb' autoplay loading="eager" ar ar-modes="webxr scene-viewer quick-look" ar-status="not-presenting" auto-rotate bounds="tight" rotation-per-second="1deg" environment-image="glb/studio.hdr" exposure="0.7" camera-controls interpolation-decay="200" shadow-intensity="1" interaction-prompt="none" camera-orbit="-40deg 82deg 12m" min-camera-orbit="auto 40deg a">
				</model-viewer>
			</div>
			
			
			<div id="image-container"></div>
			<div id="loader">
   				 <div class="spinner"></div>
			</div>

    
<script>



// Importer les images en lignes
function preloadImages(imageUrls) {
    return Promise.all(imageUrls.map(url => {
        return new Promise((resolve, reject) => {
            const img = new Image();
            img.src = url;
            img.onload = () => resolve(img); // Résoudre avec l'image chargée
            img.onerror = () => resolve(null); // Ignorer les erreurs et résoudre avec null
        });
    }));
}

document.addEventListener('DOMContentLoaded', () => {
    let mediaFiles = [
        "pages/teo/1.jpg",
        "pages/teo/2.jpg",
        "pages/teo/3.jpg",
        "pages/teo/4.jpg",
        "pages/teo/5.jpg",
        "pages/teo/6.jpg",
        "pages/teo/7.jpg",
		"pages/teo/8.jpg",
        "pages/teo/9.jpg",
        "pages/teo/10.jpg",
        "pages/teo/11.jpg",
        "pages/teo/12.jpg",
        "pages/teo/13.jpg",
        "pages/teo/14.jpg",
        "pages/teo/15.jpg",
        "pages/teo/16.jpg",
        "pages/teo/17.jpg"
    ];

    const loader = document.getElementById('loader');

    preloadImages(mediaFiles).then(images => {
        let imageContainer = document.getElementById('image-container');
        images.forEach(img => {
            if (img) {
                img.classList.add('imagelarge');
                imageContainer.appendChild(img);
            } else {
                console.warn('Une image est manquante ou a échoué à se charger.');
            }
        });

        // Cacher le loader après le chargement des images
        loader.style.display = 'none';
    }).catch(error => {
        console.error('Erreur lors du préchargement des images :', error);
	    loader.style.display = 'none';
    });
});

	
	</script>
	<script src="pages-script.js"></script>
</body>
</html>