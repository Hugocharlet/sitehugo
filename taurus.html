<!DOCTYPE html>
<html lang="fr">
<head>
    <link rel="icon" type="image/png" href="favicon.png" />
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TAURUS</title>
    <link rel="stylesheet" href="csspages.css">
    <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
</head>
<body>
    
	<!-- impoter Menu générale -->
	<div id="menu-placeholder"></div>
	<div id="svgmenupages-placeholder"></div>
	
    <!-- Script pour importer le menu -->



<script>
document.addEventListener('DOMContentLoaded', () => {
    // Importer le menu général
    fetch('menugenerale.html')
        .then(response => {
            if (!response.ok) {
                throw new Error('Network response was not ok');
            }
            return response.text();
        })
        .then(data => {
            document.getElementById('menu-placeholder').innerHTML = data;
            console.log('Menu général chargé');
        })
        .catch(error => {
            console.error('Erreur lors du chargement du menu général :', error);
        });

    // Importer le menu SVG
fetch('svgmenupages.html')
    .then(response => {
        if (!response.ok) {
            throw new Error('Network response was not ok');
        }
        return response.text();
    })
    .then(data => {
        console.log(data);  // Log le contenu pour vérifier ce qui est chargé
        document.getElementById('svgmenupages-placeholder').innerHTML = data;
        console.log('Menu SVG chargé');
    })
    .catch(error => {
        console.error('Erreur lors du chargement du menu SVG :', error);
    });
    console.log('Scripts de chargement des menus initialisés');
});
</script>

    <!-- deux colonnes -->        
   <img class="imagemain" src="pages/taurus/main.jpg" alt="main">
	<div class="colonne-fixed">
            <div class="Title">TAURUS</div>
            <div class="Subtitle">Outdoor chair 2022</div>
            <div class="textebox-container">
                <div class="texte">Dimension: 550 x 600 x 860 cm</div>
                <div class="texte">Taurus is a chair made out of bent welded metal pipes. This light, stackable and playful chair is dedicated to restaurateurs and individuals alike. Its very readable design can speak to each of us. It looks both fun and playful but also modern and minimalist, which makes it a real go-anywhere chair, which has the potential to become a new iconic chair and a vector of emotions.</div>
            </div>
            
           <!-- <div class="icon-container">
                <a href="#" data-model-src="glb/tauruschair.glb" class="icon-link" id="ouvrir-model-viewer">
                    <img src="3DICON.svg" alt="Open Model Viewer" class="icon-item">
                </a>
                <div class="texte"> 3D Model chair</div>
            </div>
            <div class="icon-container">
                <a href="#" data-model-src="glb/tauruslounge.glb" class="icon-link" id="ouvrir-model-viewer">
                    <img src="3DICON.svg" alt="Open Model Viewer" class="icon-item">
                </a>
                <div class="texte">3D Model armchair</div>
            </div> -->
      
            </div>  
			
			<!-- colonne 2 -->   
		
			<div id="modelContainer">
				<button class="close-button" id="closeModelViewer">
					<img src="crosss.svg" alt="Close">
				</button>
				<model-viewer id="modelViewer" src='glb/taurus.glb' autoplay loading="eager" ar ar-modes="webxr scene-viewer quick-look" ar-status="not-presenting" auto-rotate bounds="tight" rotation-per-second="1deg" environment-image="glb/studio.hdr" exposure="0.7" camera-controls interpolation-decay="200" shadow-intensity="1" interaction-prompt="none" camera-orbit="-40deg 82deg 12m" min-camera-orbit="auto 40deg a">
				</model-viewer>
			</div>
			
			
			<div id="image-container"></div>
			
		
			

    
<script>



// Importer les images en lignes
function preloadImages(imageUrls) {
    return Promise.all(imageUrls.map(url => {
        return new Promise((resolve, reject) => {
            const img = new Image();
            img.src = url;
            img.onload = () => resolve(img); // Résoudre avec l'image chargée
            img.onerror = () => resolve(null); // Ignorer les erreurs et résoudre avec null
        });
    }));
}

document.addEventListener('DOMContentLoaded', () => {
    let mediaFiles = [
        "pages/taurus/1.jpg",
        "pages/taurus/2.jpg",
        "pages/taurus/3.jpg",
        "pages/taurus/4.jpg",
        "pages/taurus/5.jpg",
        "pages/taurus/6.jpg",
        "pages/taurus/7.jpg",
		        "pages/taurus/8.jpg",
        "pages/taurus/9.jpg",
        "pages/taurus/10.jpg",
        "pages/taurus/11.jpg",
        "pages/taurus/12.jpg",
        "pages/taurus/13.jpg",
        "pages/taurus/14.jpg",
        "pages/taurus/15.jpg",
        "pages/taurus/16.jpg",
        "pages/taurus/17.jpg"
    ];

    preloadImages(mediaFiles).then(images => {
        let imageContainer = document.getElementById('image-container');
        images.forEach(img => {
            if (img) { // Ajouter uniquement les images valides
                img.classList.add('imagelarge');
                imageContainer.appendChild(img);
            } else {
                console.warn('Une image est manquante ou a échoué à se charger.');
            }
        });
    }).catch(error => {
        console.error('Erreur lors du préchargement des images :', error);
    });
});

		
		//model viewer

	document.addEventListener('DOMContentLoaded', () => {
    const modelViewerLink = document.querySelectorAll('#ouvrir-model-viewer');
    const modelContainer = document.getElementById('modelContainer');
    const closeButton = document.getElementById('closeModelViewer');
    const modelViewer = document.getElementById('modelViewer');

    modelViewerLink.forEach(link => {
        link.addEventListener('click', (event) => {
            event.preventDefault();
            const modelSrc = link.getAttribute('data-model-src');
            if (modelSrc) {
                modelViewer.setAttribute('src', modelSrc);
                modelContainer.classList.toggle('show');
            }
        });
    });

    closeButton.addEventListener('click', () => {
        modelContainer.classList.remove('show');
    });

    // Vous n'avez pas d'élément 'overlay' dans votre HTML actuel
    // Si vous avez un élément d'overlay, décommentez ces lignes :
    // overlay.addEventListener('click', () => {
    //     modelContainer.classList.remove('show');
    // });
});
document.addEventListener('DOMContentLoaded', function() {
    const fixedElement = document.querySelector('.colonne-fixed');
    const mainImage = document.querySelector('.imagemain'); // Sélectionne l'image 'main'

    // Fonction pour calculer et ajuster la position
    const adjustFixedColumnPosition = () => {
        const scrollY = window.scrollY || document.documentElement.scrollTop;
        const imageHeight = mainImage.offsetHeight; // Hauteur de l'image 'main'

        // Désactiver l'effet si la largeur de l'écran est inférieure à 768px (taille smartphone et iPad)
        if (window.innerWidth >= 768) {
            // Calcule une nouvelle position en soustrayant la hauteur de l'image
            const targetMarginTop = -imageHeight + 50+ scrollY * 1; // Ajuster en fonction du défilement

            // Appliquer le mouvement avec transition
            fixedElement.style.marginTop = `${targetMarginTop}px`;
        } else {
            // Réinitialiser la position pour les petits écrans
            fixedElement.style.marginTop = '20px'; // La position initiale par défaut pour les petits écrans
        }
    };

    // Exécuter la fonction lors du défilement
    document.addEventListener('scroll', adjustFixedColumnPosition);

    // Exécuter la fonction au chargement pour une position initiale correcte
    adjustFixedColumnPosition();
});

	</script>
	<script src="couleur.js"></script>
</body>
</html>