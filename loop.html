<!DOCTYPE html>
<html lang="fr">
<head>
    <link rel="icon" type="image/png" href="favicon.png" />
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LOOP</title>
    <link rel="stylesheet" href="csspages.css">
    <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
</head>
<body>
    
	<!-- impoter Menu générale -->
	<div id="menu-placeholder"></div>
	<div id="svgmenupages-placeholder"></div>
	
   

    <!-- deux colonnes -->        
   <img class="imagemain" src="pages/loop/main.jpg" alt="main">
	<div class="colonne-fixed">
            <div class="Title">LOOP</div>
            <div class="Subtitle">Outdoor metallic furniture 2021</div>
            <div class="textebox-container">
                <div class="texte">Dimensions: 615 x 690 x 563 cm</div>
                <div class="texte">Loop represent a serie of outdoor furniture collection easy to manufacture with a nice and original usage of stretched fabric for the seating parts. The side view of the dinning armchair below is giving us a clear understanding of the design idea beside this furniture collection The body is a simple assembly of welded metallic sections, and the sit and back are made from a stretched fabric wrapped around the metallic body of the chair. The idea of a stretched fabric that crosss each other at the bottom of the backrest is an original design that gives a unique identity to this furniture collection.</div>
            </div>
            <div class="sousmenu-wrapper">
				<div class="icon-container">
					<a href="#" data-model-src="glb/loopchair.glb" class="icon-link" id="ouvrir-model-viewer">
						<img src="3DICON.svg" alt="Open Model Viewer" class="icon-item">
					</a>
					<div class="texte texte-icon"> 3D Model chair</div>
				</div>
				<div class="icon-container">
					<a href="#" data-model-src="glb/looparmchair.glb" class="icon-link" id="ouvrir-model-viewer">
						<img src="3DICON.svg" alt="Open Model Viewer" class="icon-item">
					</a>
					<div class="texte texte-icon">3D Model armchair</div>
				</div>
				<div class="icon-container">
					<a href="#" data-model-src="glb/looploungechair.glb" class="icon-link" id="ouvrir-model-viewer">
						<img src="3DICON.svg" alt="Open Model Viewer" class="icon-item">
					</a>
					<div class="texte texte-icon">3D Model loungechair</div>
				</div>
			</div>
            </div>  
			
			<!-- colonne 2 -->   
		
			<div id="modelContainer">
				<button class="close-button" id="closeModelViewer">
					<img src="crosss.svg" alt="Close">
				</button>
				<model-viewer id="modelViewer" src='glb/loop.glb' autoplay loading="eager" ar ar-modes="webxr scene-viewer quick-look" ar-status="not-presenting" auto-rotate bounds="tight" rotation-per-second="1deg" environment-image="glb/studio.hdr" exposure="0.7" camera-controls interpolation-decay="200" shadow-intensity="1" interaction-prompt="none" camera-orbit="-40deg 82deg 12m" min-camera-orbit="auto 40deg a">
				</model-viewer>
			</div>
			
			
			<div id="image-container"></div>
			<div id="loader">
   				 <div class="spinner"></div>
			</div>

    
<script>



// Importer les images en lignes
function preloadImages(imageUrls) {
    return Promise.all(imageUrls.map(url => {
        return new Promise((resolve, reject) => {
            const img = new Image();
            img.src = url;
            img.onload = () => resolve(img); // Résoudre avec l'image chargée
            img.onerror = () => resolve(null); // Ignorer les erreurs et résoudre avec null
        });
    }));
}

document.addEventListener('DOMContentLoaded', () => {
    let mediaFiles = [
        "pages/loop/1.jpg",
        "pages/loop/2.jpg",
        "pages/loop/3.jpg",
        "pages/loop/4.jpg",
        "pages/loop/5.jpg",
        "pages/loop/6.jpg",
        "pages/loop/7.jpg",
		       "pages/loop/8.jpg",
        "pages/loop/9.jpg",
        "pages/loop/10.jpg",
        "pages/loop/11.jpg",
        "pages/loop/12.jpg",
        "pages/loop/13.jpg",
        "pages/loop/14.jpg",
        "pages/loop/15.jpg",
        "pages/loop/16.jpg",
        "pages/loop/17.jpg"
    ];

    const loader = document.getElementById('loader');

    preloadImages(mediaFiles).then(images => {
        let imageContainer = document.getElementById('image-container');
        images.forEach(img => {
            if (img) {
                img.classList.add('imagelarge');
                imageContainer.appendChild(img);
            } else {
                console.warn('Une image est manquante ou a échoué à se charger.');
            }
        });

        // Cacher le loader après le chargement des images
        loader.style.display = 'none';
    }).catch(error => {
        console.error('Erreur lors du préchargement des images :', error);
	    loader.style.display = 'none';
    });
});
		
	
	</script>
	<script src="pages-script.js"></script>
</body>
</html>