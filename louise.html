<!DOCTYPE html>
<html lang="fr">
<head>
    <link rel="icon" type="image/png" href="favicon.png" />
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LOUISE</title>
    <link rel="stylesheet" href="csspages.css">
    <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
</head>
<body>
    
	<!-- impoter Menu générale -->
	<div id="menu-placeholder"></div>
	<div id="svgmenupages-placeholder"></div>
	
  

    <!-- deux colonnes -->        
   <img class="imagemain" src="pages/louise/main.jpg" alt="main">
	<div class="colonne-fixed">
            <div class="Title">LOUISE</div>
            <div class="Subtitle">Outdoor chairs 2023</div>
            <div class="textebox-container">
                <div class="texte">Dimension: 525 x 475 x 860 mm</div>
                <div class="texte"> Louise is inspired by the medallion chairs of the Louis XVI era. Its unique style and simple, robust structure make Louise the perfect chair for both B2B and individual customers. It is a chair designed to be produced industrially and aimed at the mass market. With Louise, everyone will have the opportunity to bring a piece of French history into their homes.</div>
            </div>
            <div class="sousmenu-wrapper">
			   <div class="icon-container">
					<a href="#" data-model-src="glb/louisechair.glb" class="icon-link" id="ouvrir-model-viewer">
						<img src="3DICON.svg" alt="Open Model Viewer" class="icon-item">
					</a>
					<div class="texte texte-icon"> 3D Model chair</div>
				</div>
				<div class="icon-container">
					<a href="#" data-model-src="glb/louisearmchair.glb" class="icon-link" id="ouvrir-model-viewer">
						<img src="3DICON.svg" alt="Open Model Viewer" class="icon-item">
					</a>
					<div class="texte texte-icon">3D Model armchair</div>
				</div> 
		  
				</div>  
			</div>  
			<!-- colonne 2 -->   
		
			<div id="modelContainer">
				<button class="close-button" id="closeModelViewer">
					<img src="crosss.svg" alt="Close">
				</button>
				<model-viewer id="modelViewer" src='glb/louise.glb' autoplay loading="eager" ar ar-modes="webxr scene-viewer quick-look" ar-status="not-presenting" auto-rotate bounds="tight" rotation-per-second="1deg" environment-image="glb/studio.hdr" exposure="0.7" camera-controls interpolation-decay="200" shadow-intensity="1" interaction-prompt="none" camera-orbit="-40deg 82deg 12m" min-camera-orbit="auto 40deg a">
				</model-viewer>
			</div>
			
			
			<div id="image-container"></div>
			<div id="loader">
   				 <div class="spinner"></div>
			</div>
<script>



// Importer les images en lignes
function preloadImages(imageUrls) {
    return Promise.all(imageUrls.map(url => {
        return new Promise((resolve, reject) => {
            const img = new Image();
            img.src = url;
            img.onload = () => resolve(img); // Résoudre avec l'image chargée
            img.onerror = () => resolve(null); // Ignorer les erreurs et résoudre avec null
        });
    }));
}

document.addEventListener('DOMContentLoaded', () => {
    let mediaFiles = [
        "pages/louise/1.jpg",
        "pages/louise/2.jpg",
        "pages/louise/3.jpg",
        "pages/louise/4.jpg",
        "pages/louise/5.jpg",
        "pages/louise/6.jpg",
        "pages/louise/7.jpg",
        "pages/louise/9.jpg",
        "pages/louise/10.jpg",
        "pages/louise/11.jpg",
        "pages/louise/12.jpg",
        "pages/louise/13.jpg",
        "pages/louise/14.jpg",
        "pages/louise/15.jpg",
        "pages/louise/16.jpg",
        "pages/louise/17.jpg"
    ];

    const loader = document.getElementById('loader');

    preloadImages(mediaFiles).then(images => {
        let imageContainer = document.getElementById('image-container');
        images.forEach(img => {
            if (img) {
                img.classList.add('imagelarge');
                imageContainer.appendChild(img);
            } else {
                console.warn('Une image est manquante ou a échoué à se charger.');
            }
        });

        // Cacher le loader après le chargement des images
        loader.style.display = 'none';
    }).catch(error => {
        console.error('Erreur lors du préchargement des images :', error);
	    loader.style.display = 'none';
    });
});

	
	</script>
	<script src="pages-script.js"></script>
</body>
</html>