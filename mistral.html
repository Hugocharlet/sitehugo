<!DOCTYPE html>
<html lang="fr">
<head>
   <link rel="icon" type="image/png" href="favicon.png" />
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MISTRAL</title>
    <link rel="stylesheet" href="csspages.css">
    <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
</head>
<body>
    
	<!-- impoter Menu générale -->
	<div id="menu-placeholder"></div>
	<div id="svgmenupages-placeholder"></div>
	
    <!-- Script pour importer le menu -->



<script>
document.addEventListener('DOMContentLoaded', () => {
    // Importer le menu général
    fetch('menugenerale.html')
        .then(response => {
            if (!response.ok) {
                throw new Error('Network response was not ok');
            }
            return response.text();
        })
        .then(data => {
            document.getElementById('menu-placeholder').innerHTML = data;
            console.log('Menu général chargé');
        })
        .catch(error => {
            console.error('Erreur lors du chargement du menu général :', error);
        });

    // Importer le menu SVG
	fetch('svgmenupages.html')
		.then(response => {
			if (!response.ok) {
				throw new Error('Network response was not ok');
			}
			return response.text();
		})
		.then(data => {
			console.log(data);  // Log le contenu pour vérifier ce qui est chargé
			document.getElementById('svgmenupages-placeholder').innerHTML = data;
			console.log('Menu SVG chargé');
		})
		.catch(error => {
			console.error('Erreur lors du chargement du menu SVG :', error);
		});
		console.log('Scripts de chargement des menus initialisés');
	});
</script>

    <!-- deux colonnes -->        
   
	<div class="colonne-fixed">
            <div class="Title">MISTRAL</div>
            <div class="Subtitle">Modern storm lamp 2022</div>
            <div class="textebox-container">
                <div class="texte">Dimension: 490 x 240 x 240 mm</div>
                <div class="texte">Mistral is a modern lamp that takes up the image of the storm lantern in a contemporary style. This lamp used suspended above a table, for example, instantly creates an atmosphere of discreet and enveloping warmth. She lays a blanket of warm Scandinavian minimalism over the atmosphere of the room​This lamp is ingeniously designed because the outer arch makes it possible to maintain the lower part of the lamp by very easily inserting the two arches inside the two holes provided for this purpose. It is important to me to design products that are both well drawn but intelligently designed, realistics and therefore, easy to put into production.</div>
            </div>
            
  
	
      
            </div>
			
			<!-- colonne 2 -->   
		
			<div id="modelContainer">
				<button class="close-button" id="closeModelViewer">
					<img src="crosss.svg" alt="Close">
				</button>
				<model-viewer id="modelViewer" src='glb/mistral.glb' autoplay loading="eager" ar ar-modes="webxr scene-viewer quick-look" ar-status="not-presenting" auto-rotate bounds="tight" rotation-per-second="1deg" environment-image="glb/studio.hdr" exposure="0.7" camera-controls interpolation-decay="200" shadow-intensity="1" interaction-prompt="none" camera-orbit="-40deg 82deg 12m" min-camera-orbit="auto 40deg a">
				</model-viewer>
			</div>
			
			<img class="imagemain" src="pages/mistral/main.jpg" alt="main">
			<div id="image-container"></div>
			
		
			

<script>



// Importer les images en lignes
function preloadImages(imageUrls) {
    return Promise.all(imageUrls.map(url => {
        return new Promise((resolve, reject) => {
            const img = new Image();
            img.src = url;
            img.onload = () => resolve(img); // Résoudre avec l'image chargée
            img.onerror = () => resolve(null); // Ignorer les erreurs et résoudre avec null
        });
    }));
}

document.addEventListener('DOMContentLoaded', () => {
    let mediaFiles = [
        "pages/mistral/1.jpg",
        "pages/mistral/2.jpg",
        "pages/mistral/3.jpg",
        "pages/mistral/4.jpg",
        "pages/mistral/5.jpg",
        "pages/mistral/6.jpg",
        "pages/mistral/7.jpg",
		        "pages/mistral/8.jpg",
        "pages/mistral/9.jpg",
        "pages/mistral/10.jpg",
        "pages/mistral/11.jpg",
        "pages/mistral/12.jpg",
        "pages/mistral/13.jpg",
        "pages/mistral/14.jpg",
        "pages/mistral/15.jpg",
        "pages/mistral/16.jpg",
        "pages/mistral/17.jpg"
    ];

    preloadImages(mediaFiles).then(images => {
        let imageContainer = document.getElementById('image-container');
        images.forEach(img => {
            if (img) { // Ajouter uniquement les images valides
                img.classList.add('imagelarge');
                imageContainer.appendChild(img);
            } else {
                console.warn('Une image est manquante ou a échoué à se charger.');
            }
        });
    }).catch(error => {
        console.error('Erreur lors du préchargement des images :', error);
    });
});

		
		//model viewer

	document.addEventListener('DOMContentLoaded', () => {
    const modelViewerLink = document.querySelectorAll('#ouvrir-model-viewer');
    const modelContainer = document.getElementById('modelContainer');
    const closeButton = document.getElementById('closeModelViewer');
    const modelViewer = document.getElementById('modelViewer');

    modelViewerLink.forEach(link => {
        link.addEventListener('click', (event) => {
            event.preventDefault();
            const modelSrc = link.getAttribute('data-model-src');
            if (modelSrc) {
                modelViewer.setAttribute('src', modelSrc);
                modelContainer.classList.toggle('show');
            }
        });
    });

    closeButton.addEventListener('click', () => {
        modelContainer.classList.remove('show');
    });

    // Vous n'avez pas d'élément 'overlay' dans votre HTML actuel
    // Si vous avez un élément d'overlay, décommentez ces lignes :
    // overlay.addEventListener('click', () => {
    //     modelContainer.classList.remove('show');
    // });
});
	
	
	</script>
	<script src="couleur.js"></script>
</body>
</html>